<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Our Cars - RentCar</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link th:href="@{/css/style.css}" rel="stylesheet">
</head>

<body>

<!-- ================= NAVBAR ================= -->
<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #28a745;">
    <div class="container">
        <a class="navbar-brand fw-bold fs-3 d-flex align-items-center" th:href="@{/}">
            <img th:src="@{/images/logo-Photoroom.png}" height="50" class="me-2" alt="RentCar">
            RentCar
        </a>

        <div class="d-flex gap-4 text-white fw-semibold">
            <a th:href="@{/}" class="text-white text-decoration-none">Home</a>
            <a th:href="@{/cars}" class="text-white text-decoration-none">Cars</a>

            <!-- SHOW WHEN NOT LOGIN -->
            <a th:if="${#authorization.expression('isAnonymous()')}"
               th:href="@{/auth/login}"
               class="text-white text-decoration-none">
                Login
            </a>

            <!-- SHOW WHEN LOGIN -->
            <span th:if="${#authorization.expression('isAuthenticated()')}">
                Hello,
                <b th:text="${#authentication.name}"></b>
                |
                <a th:href="@{/logout}" class="text-white text-decoration-none">Logout</a>
            </span>
        </div>
    </div>
</nav>

<!-- ================= CARS LIST ================= -->
<div class="container my-5">

    <h2 class="text-center mb-5 fw-bold display-4" style="color: #28a745;">
        Our Car Collection
    </h2>

    <div class="row row-cols-1 row-cols-md-3 g-5">

        <!-- LOOP CARS FROM DATABASE -->
        <div class="col" th:each="car : ${cars}">
            <div class="card h-100 border-0 shadow">

                <!-- CAR IMAGE -->
                <img th:src="@{${car.image}}"
                     class="card-img-top"
                     style="height:250px; object-fit:cover"
                     alt="Car Image">

                <div class="card-body text-center">
                    <h4 class="fw-bold" th:text="${car.name}"></h4>

                    <p class="fs-3 text-success fw-bold">
                        $<span th:text="${car.pricePerDay}"></span>
                        <small>/day</small>
                    </p>

                    <!-- BOOK BUTTON -->
                    <a th:href="@{/booking/form(car=${car.id})}" class="btn btn-success btn-lg rounded-pill px-5">
                        Book Now
                    </a>

                </div>

            </div>
        </div>

    </div>
</div>

<!-- ================= FOOTER ================= -->
<footer class="text-center py-4 mt-5 text-muted">
    Â© 2025 RentCar. All rights reserved.
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
