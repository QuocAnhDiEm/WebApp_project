<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Our Cars - RentCar</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link th:href="@{/css/style.css}" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
    <link rel="stylesheet" th:href="@{/css/theme.css}">
    <link rel="stylesheet" th:href="@{/css/car-hover.css}">
    <script th:src="@{/js/theme-toggle.js}" defer></script>
</head>

<body>

<!-- ================= NAVBAR ================= -->
<div th:replace="fragments/navbar :: navbar"></div>

<!-- ================= CARS LIST ================= -->
<div class="container my-5">

    <h2 class="text-center mb-4 fw-bold display-4" style="color: #28a745;">
        Our Car Collection
    </h2>

    <!-- ðŸ” SEARCH + FILTER -->
    <form method="get" action="/cars" class="search-box mb-5">

        <input type="text"
               name="keyword"
               class="form-control form-control-lg"
               placeholder="Search by name or brand"
               th:value="${keyword}">

        <select name="brand" class="form-select form-select-lg">
            <option value="">All Brands</option>
            <option value="BMW">BMW</option>
            <option value="Toyota">Toyota</option>
            <option value="Kia">Kia</option>
            <option value="Audi">Audi</option>
            <option value="Ford">Ford</option>
            <option value="Mitsubishi">Mitsubishi</option>
        </select>

        <select name="seats" class="form-select form-select-lg">
            <option value="">Seats</option>
            <option value="2">2</option>
            <option value="5">5</option>
            <option value="7">7</option>
            <option value="16">16</option>
        </select>

        <button class="btn btn-success btn-lg px-4">
            Filter
        </button>
    </form>

    <!-- ================= CAR GRID ================= -->
    <div class="row row-cols-1 row-cols-md-3 g-5">

        <div class="col" th:each="car : ${cars}">
            <!-- ENTIRE CARD CLICKABLE -->
            <a th:href="@{/cars/book/{id}(id=${car.id})}" class="card-link">

                <div class="card h-100 border-0 shadow car-card">

                    <!-- IMAGE -->
                    <img th:src="@{${car.image}}"
                         class="card-img-top"
                         alt="Car Image">

                    <!-- BASIC INFO -->
                    <div class="card-body text-center">
                        <h4 class="fw-bold" th:text="${car.name}"></h4>

                        <p class="text-muted mb-1">
                            <span th:text="${car.brand}"></span> â€¢
                            <span th:text="${car.seats}"></span> seats
                        </p>

                        <p class="fs-3 text-success fw-bold">
                            $<span th:text="${car.pricePerDay}"></span>
                            <small>/day</small>
                        </p>
                    </div>

                    <!-- ðŸ”¥ HOVER INFO -->
                    <div class="car-hover">
                        <h5 th:text="${car.name}"></h5>
                        <p><strong>Brand:</strong> <span th:text="${car.brand}"></span></p>
                        <p><strong>Seats:</strong> <span th:text="${car.seats}"></span></p>

                        <!-- Description with fallback -->
                        <p class="desc" th:text="${car.description} ?: 'NO DESCRIPTION'">
                            NO DESCRIPTION
                        </p>

                        <p class="price">
                            $<span th:text="${car.pricePerDay}"></span> / day
                        </p>
                        <span class="hint">Click to book</span>
                    </div>


                </div>
            </a>
        </div>

    </div>
</div>

<!-- ================= FOOTER ================= -->
<footer class="text-center py-4 mt-5 text-muted">
    Â© 2025 RentCar. All rights reserved.
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
